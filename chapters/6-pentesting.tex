\chapter{Penetration testing} \label{ch:pentesting}
This chapter details all penetration tests that were performed on the system. These were derived from the threat model created in chapter \ref{ch:threat-model}. All penetration tests are described in the format outlined below. If an aspect of the test was considered simple then one or more parts have been omitted.
\begin{itemize}
    \item \textit{Introduction}. Describes the attack vector that this penetration test will explore.
    \item \textit{Background}. Details the required background knowledge to perform and evaluate this penetration test, if any.
    \item \textit{Method}. Describes in detail how the test was performed, e.g in what environment, with what tools, what commands were used, etc.
    \item \textit{Results}. Describes the findings of the penetration test.
    \item \textit{Discussion}. This section contains a discussion about the reliability, validity, and generalizability of the results.
\end{itemize}

\section{Lab Environment} \label{ch:pentesting:lab-setup}
This section describes the lab environment and physical setup used when performing the pentests described below.

For the pentests involving the RF communication between the devices of the system specific hardware is required. Specifically, a Software Defined Radio (SDR) is required to be able to receive and transmit RF signals. The SDR used in this report is the HackRF One\footnotelink{greatscottgadgets.com/hackrf/one/}{2021-05-17} from Great Scott Gadgets\footnotelink{greatscottgadgets.com}{2021-05-17}. This is a popular and relatively cheap SDR, costing around 350 USD. Additionally, an ANT 500 antenna was used since the HackRF One does not come with an antenna. As for the physical setup, the RF transmitting devices of the system were placed relatively close to the SDR, within \texttt{10-20 cm}. This was done to increase the quality of the captures. By placing them close clean signals could be captured without increasing the gain parameters of the SDR. Figure \ref{fig:rf-lab-setup} shows a picture of the physical lab environment.
\begin{figure}[!ht]
    \centering
    \includegraphics[width=0.9\textwidth]{images/6-pentesting/lab-setup.png}
    \caption{The lab setup used to capture and replay RF signals.}
    \label{fig:rf-lab-setup}
\end{figure}

\input{chapters/pentesting-tasks/1-rf-replay-attack}
\input{chapters/pentesting-tasks/2-rf-reverse-engineering}
\input{chapters/pentesting-tasks/2-password-attack}
\input{chapters/pentesting-tasks/3-vesta-platform}
\input{chapters/pentesting-tasks/4-default-credentials}
